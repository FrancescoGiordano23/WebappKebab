package com.advancia.Rest;

import javax.ws.rs.DELETE;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.PUT;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

import com.advancia.Modal.Container;
import com.advancia.Utility.ContainerServices;

@Path("/containers")
public class ContainerRest {

	@GET
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public Response getAllContainers() {
		if(ContainerServices.getAllContainers()!=null)
			Response.ok(ContainerServices.getAllContainers()).build();
		else
			Response.noContent().build();
		
		return null;					
	}

	@GET
	@Path("/{id}")
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public Response getContainerById(@PathParam("id") int selectedSecondaryId) {
		if(ContainerServices.getContainerById(selectedSecondaryId)!=null)
			return Response.ok(ContainerServices.getContainerById(selectedSecondaryId)).build();
			else
				return Response.noContent().build();
		
		
						
	}

	@DELETE
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public void deleteAllContainer() {
		ContainerServices.deleteAllContainer();
	}

	@DELETE
	@Path("/{id}")
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public void deleteContainerById(@PathParam("id") int selectedSecondaryId) {
		ContainerServices.deleteContainerById(selectedSecondaryId);
	}

	@PUT
	@Path("/{id}/{name}/{price}")
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public void updateContainerById(@PathParam("id") int selectedSecondaryId,
			@PathParam("name") String newName, @PathParam("price") int newPrice) {
		ContainerServices.updateContainerById(selectedSecondaryId, newName, newPrice);
	}

	@POST
	@Path("/{name}/{price}")
	@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
	public void createContainer(@PathParam("name") String name, @PathParam("price") int price) {
		ContainerServices.createContainer(name, price);
	}

}
